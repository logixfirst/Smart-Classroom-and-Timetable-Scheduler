@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@300;400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Design Token System ────────────────────────────────────────────────── */

:root {
  /* Surface */
  --color-bg-page:        #F8F9FA;
  --color-bg-surface:     #FFFFFF;
  --color-bg-surface-2:   #F1F3F4;
  --color-bg-surface-3:   #E8EAED;
  --color-bg-overlay:     rgba(0,0,0,0.50);

  /* Border */
  --color-border:         #DADCE0;
  --color-border-strong:  #BDC1C6;
  --color-border-focus:   #1A73E8;

  /* Text */
  --color-text-primary:   #202124;
  --color-text-secondary: #5F6368;
  --color-text-muted:     #80868B;
  --color-text-inverse:   #FFFFFF;
  --color-text-link:      #1A73E8;

  /* Brand / Action */
  --color-primary:        #1A73E8;
  --color-primary-hover:  #1765CC;
  --color-primary-active: #185ABC;
  --color-primary-subtle: #E8F0FE;

  /* Status */
  --color-success:        #188038;
  --color-success-subtle: #E6F4EA;
  --color-warning:        #B06000;
  --color-warning-subtle: #FEF7E0;
  --color-danger:         #C5221F;
  --color-danger-subtle:  #FCE8E6;
  --color-info:           #1967D2;
  --color-info-subtle:    #E8F0FE;

  /* Status badge text (on subtle backgrounds) */
  --color-success-text:   #137333;
  --color-warning-text:   #B45309;
  --color-danger-text:    #B31412;

  /* Sidebar */
  --color-sidebar-bg:           #FFFFFF;
  --color-sidebar-border:       #DADCE0;
  --color-sidebar-active-bg:    #E8F0FE;
  --color-sidebar-active-text:  #1A73E8;
  --color-sidebar-icon:         #5F6368;

  /* Header */
  --color-header-bg:     #FFFFFF;
  --color-header-border: #DADCE0;
  --color-search-bg:     #F1F3F4;
  --header-height: 56px;
  --sidebar-width-expanded:  256px;
  --sidebar-width-collapsed: 72px;

  /* Elevation */
  --shadow-card:     0 1px 2px rgba(60,64,67,0.10), 0 1px 3px 1px rgba(60,64,67,0.08);
  --shadow-dropdown: 0 1px 2px rgba(60,64,67,0.15), 0 2px 6px 2px rgba(60,64,67,0.10);
  --shadow-modal:    0 2px 6px rgba(60,64,67,0.15), 0 4px 24px rgba(60,64,67,0.12);

  /* Radius */
  --radius-sm:   4px;
  --radius-md:   8px;
  --radius-lg:   12px;
  --radius-xl:   16px;
  --radius-pill: 9999px;

  /* Spacing (8pt grid) */
  --space-1:  4px;
  --space-2:  8px;
  --space-3:  12px;
  --space-4:  16px;
  --space-5:  20px;
  --space-6:  24px;
  --space-8:  32px;
  --space-10: 40px;
  --space-12: 48px;

  /* Spinner — exact Google Material values */
  --spinner-color: #1A73E8;
  --spinner-track: #E8F0FE;
}

.dark {
  --color-bg-page:        #1C1E21;
  --color-bg-surface:     #242526;
  --color-bg-surface-2:   #2C2D30;
  --color-bg-surface-3:   #363739;
  --color-bg-overlay:     rgba(0,0,0,0.70);

  --color-border:         #3C3E41;
  --color-border-strong:  #505356;
  --color-border-focus:   #8AB4F8;

  --color-text-primary:   #E8EAED;
  --color-text-secondary: #9AA0A6;
  --color-text-muted:     #6B6F73;
  --color-text-inverse:   #202124;
  --color-text-link:      #8AB4F8;

  --color-primary:        #8AB4F8;
  --color-primary-hover:  #AECBFA;
  --color-primary-active: #7AABF5;
  --color-primary-subtle: #1C2B4A;

  --color-success:        #81C995;
  --color-success-subtle: #1C3829;
  --color-warning:        #FDD663;
  --color-warning-subtle: #3A2D00;
  --color-danger:         #F28B82;
  --color-danger-subtle:  #3C1A1A;
  --color-info:           #8AB4F8;
  --color-info-subtle:    #1C2B4A;

  --color-success-text:   #81C995;
  --color-warning-text:   #FDD663;
  --color-danger-text:    #F28B82;

  --color-sidebar-bg:           #242526;
  --color-sidebar-border:       #3C3E41;
  --color-sidebar-active-bg:    #1C2B4A;
  --color-sidebar-active-text:  #8AB4F8;
  --color-sidebar-icon:         #9AA0A6;

  --color-header-bg:     #242526;
  --color-header-border: #3C3E41;
  --color-search-bg:     #303134;

  /* Spinner — exact Google Material values for dark surfaces */
  --spinner-color: #8AB4F8;
  --spinner-track: #3C4043;

  --shadow-card:     0 1px 2px rgba(0,0,0,0.30), 0 1px 3px 1px rgba(0,0,0,0.25);
  --shadow-dropdown: 0 1px 2px rgba(0,0,0,0.40), 0 2px 6px 2px rgba(0,0,0,0.30);
  --shadow-modal:    0 2px 6px rgba(0,0,0,0.50), 0 4px 24px rgba(0,0,0,0.40);
}

/* ── Material-Design indeterminate spinner (Play Store / Google Files style) ─ */
/* Exact technique: stroke-dasharray + stroke-dashoffset animate together       */
/* producing the genuine arc-expand → arc-contract → sweep-away effect.         */

/* 1. Continuous full rotation of the SVG ring (2 s linear) */
@keyframes gsp-rotate {
  100% { transform: rotate(360deg); }
}

/* 2. Arc expand → contract → sweep away                                        */
/*    dasharray:   1,200  → 100,200  controls arc LENGTH (grow/shrink)          */
/*    dashoffset:  0      → -15 → -125  moves the arc START POINT forward       */
/*    Together they create the genuine "chasing tail" illusion.                  */
@keyframes gsp-dash {
  0% {
    stroke-dasharray:  1, 200;
    stroke-dashoffset: 0;
  }
  50% {
    stroke-dasharray:  100, 200;
    stroke-dashoffset: -15;
  }
  100% {
    stroke-dasharray:  100, 200;
    stroke-dashoffset: -125;
  }
}

/* Applied to the <svg> wrapper — keeps rotation separate from arc animation */
.gsp-rotate {
  animation: gsp-rotate 2s linear infinite;
  transform-origin: center;
}
/* Applied to the <circle> arc element */
.gsp-arc {
  animation: gsp-dash 1.5s cubic-bezier(0.4, 0.0, 0.2, 1) infinite;
}
/* ─────────────────────────────────────────────────────────────────────────── */



@layer base {
  * {
    -webkit-tap-highlight-color: transparent;
  }

  html {
    @apply scroll-smooth;
    scrollbar-gutter: stable;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  }

  body {
    background-color: var(--color-bg-page);
    color: var(--color-text-primary);
    @apply min-h-screen w-full antialiased;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  }

  main {
    background-color: var(--color-bg-page);
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold tracking-tight;
    color: var(--color-text-primary);
    font-family: 'Poppins', 'Inter', sans-serif;
  }

  h1 { @apply text-2xl sm:text-3xl lg:text-4xl leading-tight; }
  h2 { @apply text-xl sm:text-2xl lg:text-3xl leading-tight; }
  h3 { @apply text-lg sm:text-xl lg:text-2xl leading-tight; }
  h4 { @apply text-base sm:text-lg lg:text-xl; }
  h5 { @apply text-sm sm:text-base lg:text-lg; }
  h6 { @apply text-xs sm:text-sm lg:text-base; }

  /* Prevent rubber-band overscroll on modals and drawers */
  .sidebar-drawer,
  .modal-content {
    overscroll-behavior: contain;
  }

  /* Smooth momentum scroll in overflow containers */
  .overflow-y-auto,
  .overflow-x-auto {
    -webkit-overflow-scrolling: touch;
  }

  /* Touch feedback */
  button:active,
  a:active {
    opacity: 0.7;
  }

  /* Safe area insets for notch/Dynamic Island devices */
  .app-header {
    padding-top: env(safe-area-inset-top);
  }
  .sidebar-drawer {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
  .bottom-action-bar {
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* iOS Safari input zoom prevention — 16px prevents auto-zoom on focus */
  @media (max-width: 639px) {
    input,
    select,
    textarea {
      font-size: 16px !important;
    }
  }
}

@layer components {
  /* ── Buttons ─────────────────────────────────────────────────────────────── */
  .btn-primary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    height: 36px;
    padding: 0 16px;
    background-color: var(--color-primary);
    color: var(--color-text-inverse);
    border: none;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 500;
    letter-spacing: 0.01em;
    cursor: pointer;
    white-space: nowrap;
    transition: background-color 100ms, opacity 150ms;
  }
  .btn-primary:hover  { background-color: var(--color-primary-hover); }
  .btn-primary:active { background-color: var(--color-primary-active); }
  .btn-primary:focus-visible { outline: 2px solid var(--color-border-focus); outline-offset: 2px; }
  .btn-primary:disabled { opacity: 0.4; cursor: not-allowed; }

  .btn-secondary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    height: 36px;
    padding: 0 16px;
    background-color: var(--color-bg-surface);
    color: var(--color-primary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    white-space: nowrap;
    transition: background-color 100ms, border-color 100ms, opacity 150ms;
  }
  .btn-secondary:hover { background-color: var(--color-primary-subtle); }
  .btn-secondary:focus-visible { outline: 2px solid var(--color-border-focus); outline-offset: 2px; }
  .btn-secondary:disabled { opacity: 0.4; cursor: not-allowed; }

  .btn-success {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    height: 36px;
    padding: 0 16px;
    background-color: var(--color-success);
    color: var(--color-text-inverse);
    border: 1px solid transparent;
    border-radius: var(--radius-md);
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    white-space: nowrap;
    transition: background-color 100ms, opacity 150ms;
  }
  .btn-success:hover { filter: brightness(0.9); }
  .btn-success:focus-visible { outline: 2px solid var(--color-border-focus); outline-offset: 2px; }
  .btn-success:disabled { opacity: 0.4; cursor: not-allowed; }

  /* ── Table-row action buttons (Google Material 3 — Tonal style) ─────────── */
  /* Edit — primary tonal: subtle blue bg, primary-blue text, pill shape       */
  .btn-edit {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
    height: 30px;
    padding: 0 14px;
    background-color: var(--color-primary-subtle);
    color: var(--color-primary);
    border: none;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    white-space: nowrap;
    transition: background-color 120ms, opacity 150ms;
  }
  .btn-edit:hover  { filter: brightness(0.93); }
  .btn-edit:active { filter: brightness(0.86); }
  .btn-edit:focus-visible { outline: 2px solid var(--color-border-focus); outline-offset: 2px; }
  .btn-edit:disabled { opacity: 0.4; cursor: not-allowed; }

  /* Delete — danger tonal: subtle red bg, danger text, pill shape             */
  .btn-delete {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
    height: 30px;
    padding: 0 14px;
    background-color: var(--color-danger-subtle);
    color: var(--color-danger-text);
    border: none;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    white-space: nowrap;
    transition: background-color 120ms, opacity 150ms;
  }
  .btn-delete:hover  { filter: brightness(0.93); }
  .btn-delete:active { filter: brightness(0.86); }
  .btn-delete:focus-visible { outline: 2px solid var(--color-border-focus); outline-offset: 2px; }
  .btn-delete:disabled { opacity: 0.4; cursor: not-allowed; }

  /* ── Destructive / full-fill danger button (dialogs, confirmations) ──────── */
  .btn-danger {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    height: 36px;
    padding: 0 16px;
    background-color: var(--color-danger);
    color: var(--color-text-inverse);
    border: none;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    white-space: nowrap;
    transition: background-color 120ms, opacity 150ms;
  }
  .btn-danger:hover  { filter: brightness(0.9); }
  .btn-danger:active { filter: brightness(0.82); }
  .btn-danger:focus-visible { outline: 2px solid var(--color-border-focus); outline-offset: 2px; }
  .btn-danger:disabled { opacity: 0.4; cursor: not-allowed; }

  .btn-ghost {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    height: 36px;
    padding: 0 16px;
    background: transparent;
    color: var(--color-text-secondary);
    border: 1px solid transparent;
    border-radius: var(--radius-md);
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    white-space: nowrap;
    transition: background-color 100ms, opacity 150ms;
  }
  .btn-ghost:hover { background-color: var(--color-bg-surface-2); }
  .btn-ghost:focus-visible { outline: 2px solid var(--color-border-focus); outline-offset: 2px; }
  .btn-ghost:disabled { opacity: 0.4; cursor: not-allowed; }

  /* ── Inputs ──────────────────────────────────────────────────────────────── */
  .input-primary {
    width: 100%;
    height: 36px;
    padding: 0 12px;
    background: var(--color-bg-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    font-size: 14px;
    color: var(--color-text-primary);
    transition: border-color 150ms;
  }
  .input-primary::placeholder { color: var(--color-text-muted); }
  .input-primary:focus {
    outline: none;
    border-color: var(--color-border-focus);
    box-shadow: 0 0 0 2px var(--color-primary-subtle);
  }
  .input-primary:disabled { background: var(--color-bg-surface-2); cursor: not-allowed; opacity: 0.6; }

  .input-error {
    width: 100%;
    height: 36px;
    padding: 0 12px;
    background: var(--color-bg-surface);
    border: 1px solid var(--color-danger);
    border-radius: var(--radius-md);
    font-size: 14px;
    color: var(--color-text-primary);
    transition: border-color 150ms;
  }
  .input-error::placeholder { color: var(--color-text-muted); }
  .input-error:focus {
    outline: none;
    border-color: var(--color-danger);
    box-shadow: 0 0 0 2px var(--color-danger-subtle);
  }

  .input-field {
    width: 100%;
    height: 36px;
    padding: 0 12px;
    background: var(--color-bg-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    font-size: 14px;
    color: var(--color-text-primary);
    transition: border-color 150ms;
  }
  .input-field::placeholder { color: var(--color-text-muted); }
  .input-field:focus {
    outline: none;
    border-color: var(--color-border-focus);
    box-shadow: 0 0 0 2px var(--color-primary-subtle);
  }
  .input-field:disabled { background: var(--color-bg-surface-2); cursor: not-allowed; opacity: 0.6; }

  /* Header search bar */
  .header-search {
    background: var(--color-bg-surface-2);
    border: 1px solid transparent;
    border-radius: var(--radius-pill);
    height: 40px;
    padding: 0 16px 0 40px;
    font-size: 14px;
    color: var(--color-text-primary);
    transition: background 150ms, border-color 150ms, width 200ms ease-out;
  }
  .header-search:focus {
    background: var(--color-bg-surface);
    border-color: var(--color-border-focus);
    outline: none;
    box-shadow: 0 0 0 2px var(--color-primary-subtle);
  }

  /* ── Cards ───────────────────────────────────────────────────────────────── */
  .card {
    background: var(--color-bg-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-card);
    padding: 24px;
  }
  .card:hover { border-color: var(--color-border-strong); }

  .card-flat {
    background: var(--color-bg-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: 24px;
  }

  .card-header {
    padding-bottom: 20px;
    border-bottom: 1px solid var(--color-border);
    margin-bottom: 20px;
  }

  .card-title {
    font-size: 15px;
    font-weight: 600;
    color: var(--color-text-primary);
  }

  .card-description {
    font-size: 13px;
    color: var(--color-text-secondary);
    margin-top: 2px;
  }

  /* ── Header Buttons ──────────────────────────────────────────────────────── */
  .header-circle-btn {
    width: 40px;
    height: 56px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: var(--color-text-secondary);
    border-radius: var(--radius-md);
    transition: background-color 100ms;
  }
  .header-circle-btn:hover { background-color: var(--color-bg-surface-2); }

  .header-circle-btn-primary {
    width: 40px;
    height: 40px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background-color: var(--color-primary);
    color: var(--color-text-inverse);
    border-radius: var(--radius-md);
  }
  .header-circle-btn-primary:hover { background-color: var(--color-primary-hover); }

  .header-circle-notification {
    width: 40px;
    height: 56px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: var(--color-text-secondary);
    border-radius: var(--radius-md);
    position: relative;
    transition: background-color 100ms;
  }
  .header-circle-notification:hover { background-color: var(--color-bg-surface-2); }

  .header-circle-logo {
    width: 32px;
    height: 32px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background-color: var(--color-primary-subtle);
    color: var(--color-primary);
    border-radius: var(--radius-md);
    font-size: 13px;
    font-weight: 600;
  }

  .notification-badge {
    position: absolute;
    top: 10px;
    right: 8px;
    width: 8px;
    height: 8px;
    background: var(--color-danger);
    border-radius: 9999px;
  }

  /* ── Navigation ──────────────────────────────────────────────────────────── */
  .nav-link {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    color: var(--color-text-secondary);
    border-radius: var(--radius-md);
    font-size: 14px;
    font-weight: 500;
    text-decoration: none;
    min-height: 44px;
    transition: background-color 100ms;
  }
  .nav-link:hover {
    background-color: var(--color-bg-surface-2);
    color: var(--color-text-primary);
  }

  .nav-link-active {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    background: var(--color-sidebar-active-bg);
    color: var(--color-sidebar-active-text);
    border-radius: var(--radius-md);
    font-size: 14px;
    font-weight: 600;
    text-decoration: none;
    min-height: 44px;
  }

  /* ── Badges ──────────────────────────────────────────────────────────────── */
  .badge {
    display: inline-flex;
    align-items: center;
    height: 20px;
    padding: 0 8px;
    border-radius: var(--radius-sm);
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 0.04em;
    white-space: nowrap;
  }

  .badge-success {
    background: var(--color-success-subtle);
    color: var(--color-success-text);
    border-left: 3px solid var(--color-success);
  }

  .badge-warning {
    background: var(--color-warning-subtle);
    color: var(--color-warning-text);
    border-left: 3px solid var(--color-warning);
  }

  .badge-danger {
    background: var(--color-danger-subtle);
    color: var(--color-danger-text);
    border-left: 3px solid var(--color-danger);
  }

  .badge-neutral {
    background: var(--color-bg-surface-3);
    color: var(--color-text-secondary);
    border-left: 3px solid var(--color-border-strong);
  }

  .badge-info {
    background: var(--color-info-subtle);
    color: var(--color-info);
    border-left: 3px solid var(--color-info);
  }

  .badge-primary {
    background: var(--color-primary-subtle);
    color: var(--color-primary);
    border-left: 3px solid var(--color-primary);
  }

  /* ── Tables ──────────────────────────────────────────────────────────────── */
  .table {
    width: 100%;
    border-collapse: collapse;
    background: var(--color-bg-surface);
  }

  .table-header {
    background: var(--color-bg-surface-2);
    border-bottom: 1px solid var(--color-border);
  }

  .table-header-cell {
    padding: 10px 16px;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: var(--color-text-secondary);
    text-align: left;
  }

  .table-cell {
    padding: 12px 16px;
    font-size: 14px;
    color: var(--color-text-primary);
    border-bottom: 1px solid var(--color-border);
  }

  /* Instant background — no transition on hover bg (enterprise tables) */
  .table-row:hover .table-cell {
    background: var(--color-bg-surface-2);
  }

  /* ── Forms ───────────────────────────────────────────────────────────────── */
  .form-group {
    @apply space-y-2;
  }

  .form-label {
    display: block;
    font-size: 13px;
    font-weight: 500;
    color: var(--color-text-primary);
    margin-bottom: 6px;
  }

  .form-error {
    font-size: 12px;
    color: var(--color-danger);
    margin-top: 4px;
  }

  .form-help {
    font-size: 12px;
    color: var(--color-text-muted);
    margin-top: 4px;
  }

  /* ── Material-Design indeterminate spinner — CSS class helper ──────────── */
  /* For border-based divs: .loading-spinner .loading-spinner-dark            */
  /* Single blue accent — no color transitions.                               */

  /* Loading States */
  .loading-spinner {
    display: inline-block;
    border-radius: 9999px;
    border-style: solid;
    border-color: var(--spinner-track);
    border-top-color: var(--spinner-color);
    animation: gsp-rotate 2s linear infinite;
  }

  .loading-spinner-dark {
    display: inline-block;
    border-radius: 9999px;
    border-style: solid;
    border-color: var(--spinner-track);
    border-top-color: var(--spinner-color);
    animation: gsp-rotate 2s linear infinite;
  }

  .loading-skeleton {
    background: linear-gradient(
      90deg,
      var(--color-bg-surface-2) 25%,
      var(--color-bg-surface-3) 50%,
      var(--color-bg-surface-2) 75%
    );
    background-size: 800px 100%;
    animation: shimmer 1.6s infinite linear;
    border-radius: var(--radius-sm);
  }

  /* ── Interactive Elements ────────────────────────────────────────────────── */
  .interactive-element {
    transition: background-color 100ms;
    border-radius: var(--radius-md);
  }
  .interactive-element:hover { background-color: var(--color-bg-surface-2); }

  .clickable-card {
    cursor: pointer;
    transition: border-color 100ms;
  }
  .clickable-card:hover { border-color: var(--color-border-strong); }

  .icon-button {
    width: 40px;
    height: 40px;
    border-radius: var(--radius-md);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: var(--color-text-secondary);
    transition: background-color 100ms;
  }
  .icon-button:hover { background-color: var(--color-bg-surface-2); }

  /* ── Mobile Data Cards ───────────────────────────────────────────────────── */
  .data-card {
    background: var(--color-bg-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: 16px;
  }

  .data-card-field-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px 16px;
    margin: 12px 0;
  }

  .data-card-field-label {
    color: var(--color-text-muted);
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .data-card-field-value {
    color: var(--color-text-primary);
    font-size: 13px;
    margin-top: 2px;
  }

  .data-card-actions {
    display: flex;
    gap: 8px;
    justify-content: flex-end;
    align-items: center;
    padding-top: 12px;
    border-top: 1px solid var(--color-border);
    margin-top: 12px;
    min-height: 44px;
  }

  /* ── Timetable Mobile Slots ──────────────────────────────────────────────── */
  .tt-mobile-slot {
    padding: 10px 16px;
    border-bottom: 1px solid var(--color-border);
  }

  .tt-mobile-slot-time {
    font-size: 11px;
    font-weight: 600;
    color: var(--color-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 2px;
  }

  .tt-mobile-slot-course {
    font-size: 14px;
    font-weight: 500;
    color: var(--color-text-primary);
  }

  .tt-mobile-slot-meta {
    font-size: 12px;
    color: var(--color-text-secondary);
    margin-top: 1px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .tt-mobile-slot-empty {
    padding: 10px 16px;
    font-size: 13px;
    color: var(--color-text-muted);
    font-style: italic;
  }

  /* ── Timetable Grid ──────────────────────────────────────────────────────── */
  .tt-time-cell {
    position: sticky;
    left: 0;
    z-index: 2;
    background: var(--color-bg-surface-2);
    border-right: 1px solid var(--color-border);
    min-width: 72px;
    font-size: 11px;
    font-weight: 600;
    color: var(--color-text-secondary);
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: thin;
  }
  .scrollbar-hide::-webkit-scrollbar { width: 4px; }
  .scrollbar-hide::-webkit-scrollbar-track { background: transparent; }
  .scrollbar-hide::-webkit-scrollbar-thumb {
    background: rgba(156, 163, 175, 0.3);
    border-radius: 2px;
  }
  .scrollbar-hide::-webkit-scrollbar-thumb:hover { background: rgba(156, 163, 175, 0.5); }

  /* No-scrollbar — for mobile horizontal day-pill selectors */
  .no-scrollbar::-webkit-scrollbar { display: none; }
  .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

  .smooth-scroll {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  .text-responsive    { @apply text-sm sm:text-base; }
  .text-responsive-lg { @apply text-base sm:text-lg lg:text-xl; }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

@layer utilities {
  /* Toast slide-in — translates from right edge, not full width */
  @keyframes slide-in {
    from { opacity: 0; transform: translateX(16px); }
    to   { opacity: 1; transform: translateX(0); }
  }
  .animate-slide-in { animation: slide-in 180ms ease-out forwards; }

  /* Skeleton shimmer sweep */
  @keyframes shimmer {
    0%   { background-position: -800px 0; }
    100% { background-position:  800px 0; }
  }
  .animate-shimmer {
    background: linear-gradient(
      90deg,
      var(--color-bg-surface-2) 25%,
      var(--color-bg-surface-3) 50%,
      var(--color-bg-surface-2) 75%
    );
    background-size: 800px 100%;
    animation: shimmer 1.6s infinite linear;
  }

  /* Mobile bottom-sheet modal animations */
  @keyframes sheet-up {
    from { transform: translateY(100%); }
    to   { transform: translateY(0); }
  }
  @keyframes sheet-down {
    from { transform: translateY(0); }
    to   { transform: translateY(100%); }
  }
  .animate-sheet-up   { animation: sheet-up   200ms ease-out forwards; }
  .animate-sheet-down { animation: sheet-down 180ms ease-in  forwards; }

  /* Reverse shimmer — used by progress bar animations below */
  @keyframes shimmer-reverse {
    0%   { background-position:  200% 0; }
    100% { background-position: -200% 0; }
  }
}

/* =============================================================================
   Microsoft Fluent / WinUI Progress Bar Animations
   OUTSIDE @layer — keyframe names resolve globally and are accessible from
   React inline-style "animation:" properties on the JSX span elements.
   (Pseudo-element approach removed; real <span> children used instead.)
============================================================================= */

/* Sweeping white highlight beam — the signature WinUI left-to-right shine */
@keyframes progress-shine {
  0%   { transform: translateX(-120%) skewX(-15deg); opacity: 0; }
  15%  { opacity: 1; }
  85%  { opacity: 1; }
  100% { transform: translateX(360%) skewX(-15deg); opacity: 0; }
}

/* Comet-tip pulse — glowing leading edge.
   Uses filter:drop-shadow NOT box-shadow because overflow:hidden clips
   box-shadow ink overflow.  filter:drop-shadow is NOT clipped — it is
   applied AFTER the element is painted, outside the overflow boundary.  */
@keyframes progress-comet-pulse {
  0%, 100% {
    opacity: 0.8;
    filter: drop-shadow(0 0 3px rgba(255,255,255,0.6)) drop-shadow(0 0 6px rgba(255,255,255,0.4));
  }
  50% {
    opacity: 1;
    filter: drop-shadow(0 0 6px rgba(255,255,255,0.95)) drop-shadow(0 0 12px rgba(255,255,255,0.7)) drop-shadow(0 0 20px rgba(255,255,255,0.4));
  }
}

/* Gentle opacity breathe — signals active computation.
   IMPORTANT: We use opacity (not filter:brightness) because filter on the
   fill div creates a GPU compositing layer which breaks the overflow:hidden
   clipping of the child shine span's translateX animation in Chrome/Safari.
   Opacity does NOT create a compositing layer by itself (unless GPU-hinted). */
@keyframes progress-fill-breathe {
  0%, 100% { opacity: 0.92; }
  50%       { opacity: 1; }
}

/* =============================================================================
   CADENCE MARKETING SITE — Design Tokens & Utility Classes
   Prefix: mk-  (avoids conflicts with app styles)
   These are ONLY used in (marketing)/ route group pages
============================================================================= */

/* ─── Marketing color tokens ─────────────────────────────────────────────── */
:root {
  --cadence-navy:       #1B3A5C;
  --cadence-navy-mid:   #1E4D6B;
  --cadence-teal:       #2A9D8F;
  --cadence-teal-light: #3BBFB0;
  --cadence-white:      #FFFFFF;
  --cadence-off-white:  #F4F6F8;
  --cadence-slate:      #64748B;
  --cadence-ink:        #0F1C2E;
  --cadence-gradient:   linear-gradient(135deg, #1B3A5C 0%, #1E4D6B 50%, #2A9D8F 100%);
}

/* ─── Marketing buttons ────────────────────────────────────────────────────── */
.mk-btn-primary {
  background: var(--cadence-gradient);
  color: white;
  border: none;
  border-radius: 8px;
  padding: 12px 28px;
  font-size: 15px;
  font-weight: 600;
  font-family: 'Inter', sans-serif;
  cursor: pointer;
  transition: opacity 150ms, transform 150ms;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  text-decoration: none;
}
.mk-btn-primary:hover { opacity: 0.92; transform: translateY(-1px); }
.mk-btn-primary:active { transform: translateY(0); }

.mk-btn-secondary {
  background: transparent;
  color: var(--cadence-navy);
  border: 1.5px solid var(--cadence-navy);
  border-radius: 8px;
  padding: 11px 27px;
  font-size: 15px;
  font-weight: 500;
  cursor: pointer;
  transition: background 150ms, color 150ms;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  text-decoration: none;
  font-family: 'Inter', sans-serif;
}
.mk-btn-secondary:hover {
  background: var(--cadence-navy);
  color: white;
}

.mk-btn-ghost {
  background: transparent;
  color: white;
  border: 1.5px solid rgba(255,255,255,0.4);
  border-radius: 8px;
  padding: 11px 27px;
  font-size: 15px;
  font-weight: 500;
  cursor: pointer;
  transition: background 150ms, border-color 150ms;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  text-decoration: none;
  font-family: 'Inter', sans-serif;
}
.mk-btn-ghost:hover {
  background: rgba(255,255,255,0.1);
  border-color: rgba(255,255,255,0.7);
}

/* ─── Marketing section spacing ──────────────────────────────────────────── */
.mk-section {
  padding: 80px 0;
  max-width: 1200px;
  margin: 0 auto;
  padding-left: 24px;
  padding-right: 24px;
}
@media (max-width: 768px) {
  .mk-section { padding: 48px 16px; }
}

/* ─── Eyebrow tag ─────────────────────────────────────────────────────────── */
.mk-eyebrow {
  display: inline-flex;
  align-items: center;
  background: rgba(42,157,143,0.12);
  color: #2A9D8F;
  border: 1px solid rgba(42,157,143,0.3);
  border-radius: 9999px;
  padding: 4px 14px;
  font-size: 13px;
  font-weight: 600;
  letter-spacing: 0.04em;
  margin-bottom: 16px;
  font-family: 'Inter', sans-serif;
}

/* ─── Marketing headings ──────────────────────────────────────────────────── */
.mk-h1 {
  font-family: 'Poppins', sans-serif;
  font-size: clamp(32px, 5vw, 56px);
  font-weight: 700;
  color: var(--cadence-ink);
  line-height: 1.15;
  letter-spacing: -0.02em;
}
.mk-h2 {
  font-family: 'Poppins', sans-serif;
  font-size: clamp(26px, 3.5vw, 40px);
  font-weight: 600;
  color: var(--cadence-ink);
  line-height: 1.2;
  letter-spacing: -0.015em;
}
.mk-h3 {
  font-family: 'Poppins', sans-serif;
  font-size: clamp(20px, 2.5vw, 28px);
  font-weight: 600;
  color: var(--cadence-ink);
  line-height: 1.3;
}
.mk-h1-white {
  font-family: 'Poppins', sans-serif;
  font-size: clamp(32px, 5vw, 56px);
  font-weight: 700;
  color: #ffffff;
  line-height: 1.15;
  letter-spacing: -0.02em;
}
.mk-h2-white {
  font-family: 'Poppins', sans-serif;
  font-size: clamp(26px, 3.5vw, 40px);
  font-weight: 600;
  color: #ffffff;
  line-height: 1.2;
  letter-spacing: -0.015em;
}
.mk-body {
  font-family: 'Inter', sans-serif;
  font-size: 17px;
  color: var(--cadence-slate);
  line-height: 1.7;
}
.mk-body-sm {
  font-family: 'Inter', sans-serif;
  font-size: 15px;
  color: var(--cadence-slate);
  line-height: 1.6;
}

/* ─── Feature card ────────────────────────────────────────────────────────── */
.mk-feature-card {
  background: white;
  border: 1px solid rgba(27,58,92,0.10);
  border-radius: 16px;
  padding: 32px;
  transition: border-color 200ms, box-shadow 200ms;
}
.mk-feature-card:hover {
  border-color: rgba(42,157,143,0.40);
  box-shadow: 0 8px 32px rgba(42,157,143,0.08);
}

/* ─── Gradient text ───────────────────────────────────────────────────────── */
.mk-text-gradient {
  background: var(--cadence-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ─── Background grid pattern ────────────────────────────────────────────── */
.mk-bg-grid {
  background-image:
    linear-gradient(rgba(27,58,92,0.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(27,58,92,0.04) 1px, transparent 1px);
  background-size: 40px 40px;
}

/* ─── Pricing card highlight ─────────────────────────────────────────────── */
.mk-pricing-featured {
  border: 2px solid var(--cadence-teal);
  box-shadow: 0 0 0 4px rgba(42,157,143,0.10), 0 16px 48px rgba(42,157,143,0.12);
  transform: scale(1.02);
}

/* ─── Marquee ────────────────────────────────────────────────────────────── */
@keyframes mk-marquee {
  0%   { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
.mk-marquee-track {
  display: flex;
  width: max-content;
  animation: mk-marquee 28s linear infinite;
}

/* ─── Scroll reveal ─────────────────────────────────────────────────────── */
.mk-reveal {
  transition: opacity 700ms ease-out, transform 700ms ease-out;
}
.mk-reveal-hidden {
  opacity: 0;
  transform: translateY(32px);
}
.mk-reveal-visible {
  opacity: 1;
  transform: translateY(0);
}

/* ─── FAQ accordion ──────────────────────────────────────────────────────── */
.mk-accordion-content {
  overflow: hidden;
  transition: max-height 300ms ease-out, opacity 300ms ease-out;
}

/* ─── Marketing nav link underline ──────────────────────────────────────── */
.mk-nav-link {
  position: relative;
  font-size: 15px;
  font-weight: 500;
  color: var(--cadence-slate);
  text-decoration: none;
  transition: color 150ms;
  font-family: 'Inter', sans-serif;
}
.mk-nav-link::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--cadence-teal);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 200ms ease-out;
}
.mk-nav-link:hover { color: var(--cadence-navy); }
.mk-nav-link:hover::after { transform: scaleX(1); }
.mk-nav-link-active { color: var(--cadence-navy); }
.mk-nav-link-active::after { transform: scaleX(1); }

/* ─── Timetable cell animation ───────────────────────────────────────────── */
@keyframes mk-cell-pop {
  0%   { transform: scale(0.7); opacity: 0; }
  60%  { transform: scale(1.08); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}
@keyframes mk-conflict-flash {
  0%, 100% { background: rgba(239,68,68,0.15); border-color: rgba(239,68,68,0.6); }
  50%       { background: rgba(239,68,68,0.35); border-color: rgba(239,68,68,1); }
}
@keyframes mk-cell-resolve {
  0%   { background: rgba(239,68,68,0.15); }
  100% { background: rgba(42,157,143,0.15); border-color: rgba(42,157,143,0.5); }
}
@keyframes mk-counter-slide {
  0%   { opacity: 0; transform: translateY(8px); }
  100% { opacity: 1; transform: translateY(0); }
}
@keyframes mk-banner-slide {
  0%   { opacity: 0; transform: translateY(-12px); }
  100% { opacity: 1; transform: translateY(0); }
}
@keyframes mk-grid-fade-in {
  0%   { opacity: 0; }
  100% { opacity: 1; }
}
@keyframes mk-grid-fade-out {
  0%   { opacity: 1; }
  100% { opacity: 0; }
}

/* ─── Step connector arrow ───────────────────────────────────────────────── */
.mk-step-arrow {
  display: none;
}
@media (min-width: 1024px) {
  .mk-step-arrow {
    display: flex;
    align-items: center;
    color: var(--cadence-teal);
    opacity: 0.4;
  }
}

/* ─── Blog card ──────────────────────────────────────────────────────────── */
.mk-blog-card {
  background: white;
  border: 1px solid rgba(27,58,92,0.08);
  border-radius: 16px;
  overflow: hidden;
  transition: border-color 200ms, box-shadow 200ms, transform 200ms;
  text-decoration: none;
  display: flex;
  flex-direction: column;
}
.mk-blog-card:hover {
  border-color: rgba(42,157,143,0.3);
  box-shadow: 0 8px 32px rgba(27,58,92,0.08);
  transform: translateY(-2px);
}

/* ─── Contact form input ─────────────────────────────────────────────────── */
.mk-input {
  width: 100%;
  padding: 12px 16px;
  border: 1.5px solid rgba(27,58,92,0.18);
  border-radius: 8px;
  font-size: 15px;
  font-family: 'Inter', sans-serif;
  color: var(--cadence-ink);
  background: white;
  transition: border-color 150ms, box-shadow 150ms;
  outline: none;
}
.mk-input:focus {
  border-color: var(--cadence-teal);
  box-shadow: 0 0 0 3px rgba(42,157,143,0.12);
}
.mk-input::placeholder { color: #94a3b8; }
.mk-input-error { border-color: #ef4444 !important; }

/* ─── Tag badge ──────────────────────────────────────────────────────────── */
.mk-tag {
  display: inline-block;
  padding: 2px 10px;
  border-radius: 9999px;
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 0.04em;
  font-family: 'Inter', sans-serif;
}
.mk-tag-product   { background: rgba(42,157,143,0.12); color: #2A9D8F; }
.mk-tag-ai        { background: rgba(27,58,92,0.10);   color: #1B3A5C; }
.mk-tag-education { background: rgba(249,115,22,0.10); color: #ea580c; }
.mk-tag-policy    { background: rgba(139,92,246,0.10); color: #7c3aed; }

/* ── Hover-lift CTA button (for server-component pages) ──────── */
.mk-cta-lift {
  box-shadow: 0 4px 24px rgba(0,0,0,0.15);
  transition: transform 150ms ease, box-shadow 150ms ease;
}
.mk-cta-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 32px rgba(0,0,0,0.20) !important;
}

/* ── Card hover (no JS required) ────────────────────────────── */
.mk-hover-card {
  border: 1px solid rgba(27,58,92,0.08);
  transition: box-shadow 200ms ease, border-color 200ms ease;
}
.mk-hover-card:hover {
  box-shadow: 0 8px 32px rgba(27,58,92,0.10);
  border-color: rgba(42,157,143,0.25);
}
